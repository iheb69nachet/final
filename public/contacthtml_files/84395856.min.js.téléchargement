"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])};return function(i,t){function n(){this.constructor=i}e(i,t);i.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Demandbase;!function(e){var i;!function(i){i.ads=window.Demandbase.Config.ads||{};i.analytics=window.Demandbase.Config.analytics||{};i.conditions=window.Demandbase.Config.conditions||{};i.content=window.Demandbase.Config.content||{};i.forms=window.Demandbase.Config.forms||{};i.segments=window.Demandbase.Config.segments||{};i.emptyWatchDefault=window.Demandbase.Config.emptyWatchDefault||null;i.hooks=window.Demandbase.Config.hooks||{};i.isInIFrame=window.Demandbase.Config.isInIFrame||null;i.key=window.Demandbase.Config.key||null;i.logging=window.Demandbase.Config.logging||null;i.nonCompanyDefault=window.Demandbase.Config.nonCompanyDefault||null;i.nonWatchDefault=window.Demandbase.Config.nonWatchDefault||null;i.testDomain=window.Demandbase.Config.testDomain||void 0;i.testIp=window.Demandbase.Config.testIp||void 0;i.tokens=window.Demandbase.Config.tokens||{};i.useTestDomain=window.Demandbase.Config.useTestDomain||!1;i.useTestIp=window.Demandbase.Config.useTestIp||!1;i.Advertising=window.Demandbase.Config.Advertising||{};i.AssetReporter=window.Demandbase.Config.AssetReporter||{};i.Content=window.Demandbase.Config.Content||{};i.ErrorReporter=window.Demandbase.Config.ErrorReporter||{};i.Forms=window.Demandbase.Config.Forms||{};i.Google_Analytics=window.Demandbase.Config.Google_Analytics||{};i.Google_TagManager=window.Demandbase.Config.Google_TagManager||{};i.IpApiModule=e.Config.IpApiModule||{};i.SiteOptimization=window.Demandbase.Config.SiteOptimization||{};i.EmailDomainReporter=window.Demandbase.Config.EmailDomainReporter||{}}(i=e.Config||(e.Config={}));var t;!function(e){}(t=e.Connectors||(e.Connectors={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){e.version="8.0.19"}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i;!function(i){var t;!function(i){function t(e){return"undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(g)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0}function n(i){if(-1===e.Shims.indexOf(i,":"))return[i];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(i.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]}function o(e,i){void 0===i&&(i=10);return e?parseInt(e,i):void 0}function a(i){var t=i.stack.split("\n").filter(function(e){return!!e.match(g)},this);return t.map(function(i){e.Shims.indexOf(i,"(eval ")>-1&&(i=i.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=i.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop()),o=t.join(" ")||void 0,a=e.Shims.indexOf(["eval","<anonymous>"],n[0])>-1?void 0:n[0];return{"function":o,file:a,line:this._parseInt(n[1]),column:this._parseInt(n[2])}},this)}function r(i){var t=i.stack.split("\n").filter(function(e){return!e.match(f)},this);return t.map(function(i){e.Shims.indexOf(i," > eval")>-1&&(i=i.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));if(-1===e.Shims.indexOf(i,"@")&&-1===e.Shims.indexOf(i,":"))return{"function":i};var t=i.split("@"),n=this.extractLocation(t.pop()),o=t.join("@")||void 0;return{"function":o,file:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2])}},this)}function s(i){return!i.stacktrace||e.Shims.indexOf(i.message,"\n")>-1&&i.message.split("\n").length>i.stacktrace.split("\n").length?this.parseOpera9(i):i.stack?this.parseOpera11(i):this.parseOpera10(i)}function l(e){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,t=e.message.split("\n"),n=[],o=2,a=t.length;a>o;o+=2){var r=i.exec(t[o]);r&&n.push({file:r[2],line:this._parseInt(r[1])})}return n}function d(e){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,t=e.stacktrace.split("\n"),n=[],o=0,a=t.length;a>o;o+=2){var r=i.exec(t[o]);r&&n.push({"function":r[3]||void 0,file:r[2],line:this._parseInt(r[1])})}return n}function u(e){var i=e.stack.split("\n").filter(function(e){return!!e.match(c)&&!e.match(/^Error created at/)},this);return i.map(function(e){var i,t=e.split("@"),n=this.extractLocation(t.pop()),o=t.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(i=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));void 0===i||"[arguments not available]"===i?void 0:i.split(",");return{"function":a,file:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2])}},this)}var c=/(^|@)\S+\:\d+/,g=/^\s*at .*(\S+\:\d+|\(native\))/m,f=/^(eval@)?(\[native code\])?$/;i.parse=t;i.extractLocation=n;i._parseInt=o;i.parseV8OrIE=a;i.parseFFOrSafari=r;i.parseOpera=s;i.parseOpera9=l;i.parseOpera10=d;i.parseOpera11=u}(t=i.ErrorStackParser||(i.ErrorStackParser={}))}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i;!function(e){function i(e,i,t){if(null===e||void 0===e)throw new TypeError("Array.indexOf called on null or undefined");return e.indexOf?e.indexOf(i,t):o(e,i,t)}function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(Object.assign&&"function"==typeof Object.assign)return Object.assign.apply(null,e);if(null===e[0]||void 0===e[0])throw new TypeError("Cannot convert undefined or null to object");return a(e)}function n(e){if(Object.keys)return Object.keys(e);if("function"!=typeof e&&("object"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");return r(e)}function o(e,i,t){var n=e.length>>>0,o=Math.min(0|t,n);if(0>o)o=Math.max(0,n+o);else if(o>=n)return-1;if(void 0===i){for(;o!==n;++o)if(void 0===e[o]&&o in e)return o}else if(i!==i){for(;o!==n;++o)if(e[o]!==e[o])return o}else for(;o!==n;++o)if(e[o]===i)return o;return-1}function a(e){for(var i=Object(e[0]),t=1;t<e.length;t++){var n=e[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i}function r(e){var i,t,n=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=a.length,s=[];for(i in e)n.call(e,i)&&s.push(i);if(o)for(t=0;r>t;t++)n.call(e,a[t])&&s.push(a[t]);return s}e.console=window.console||{log:function(){},debug:function(){}};e.JSON=window.JSON||{stringify:function(){},parse:function(){}};e.indexOf=i;e.assign=t;e.keys=n;e._indexOfPolyfill=o;e._assignPolyfill=a;e._keysPolyfill=r}(i=e.Shims||(e.Shims={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i;!function(i){var t;!function(t){function n(i){var t={referrer:document.referrer,page:document.URL,page_title:document.title};if(e.Config.isInIFrame)try{t.page=window.top.document.URL;t.referrer=window.top.document.referrer;t.page_title=window.top.document.title}catch(n){t.page=document.referrer;t.referrer=null;t.page_title="3rd Party iFrame"}t=e.Shims.assign(t,i);return a(t)}function o(e,t){var o=e||i.Constants.URL_IP_API;o+=n(t);return o}function a(e){var i="?";for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(i+=t+"="+encodeURIComponent(e[t])+"&");i=i.substring(0,i.length-1);return i}t.buildApiParamString=n;t.buildApiUrl=o;t.buildQueryString=a}(t=i.Api||(i.Api={}))}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,{buildApiParamString:Demandbase.Utilities.Api.buildApiParamString,buildApiUrl:Demandbase.Utilities.Api.buildApiUrl,buildQueryString:Demandbase.Utilities.Api.buildQueryString})}(window);var Demandbase;!function(e){var i;!function(i){var t;!function(i){function t(t){for(var n=function(n){var o=i.callbackStack[n];e.ErrorReporter.wrap(function(){o.call(e,t)})()},o=0;o<i.callbackStack.length;o++)n(o)}function n(i){e.IpApi.CompanyProfile=e.Utilities.flatten(i);this.callback(i)}function o(t){if(-1===e.Shims.indexOf(i.callbackStack,t)){i.callbackStack.push(t);e.IpApi&&e.IpApi.CompanyProfile&&e.ErrorReporter.wrap(function(){t.call(e,e.IpApi.CompanyProfile)})()}}i.callbackStack=[];i.callback=t;i.domScriptCallback=n;i.registerCallback=o}(t=i.Callbacks||(i.Callbacks={}))}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{callback:Demandbase.Utilities.Callbacks.callback.bind(Demandbase.Utilities.Callbacks),registerCallback:Demandbase.Utilities.Callbacks.registerCallback.bind(Demandbase.Utilities.Callbacks)})}(window);var Demandbase;!function(e){var i;!function(i){var t;!function(i){i.QS_USE_TEST_DOMAIN="db_useTestDomain";i.QS_QUERY_DOMAIN="db_domain";i.QS_ENABLE_LOG="db_logging";i.QS_PREVIEW_TOKEN="db_preview_token";i.DFLT_NON_COMPANY="(Non-Company Visitor)";i.DFLT_AW_EMPTY="(AccountWatch Empty)";i.DFLT_NON_AW="(Non-AccountWatch Visitor)";i.DFLT_EVENT_TYPE="click";i.URL_IP_API="api.company-target.com/api/v2/ip.json";i.URL_DOMAIN_API="api.demandbase.com/api/v1/domain.json";i.URL_BW_AD_PIXEL=e.Config.tokens.URL_BW_AD_PIXEL||"match.prod.bidr.io/cookie-sync/demandbase";i.MODIFICATION_ERROR="SCModificationError";i.PARDOT_VISITOR_COOKIE_REGEX=/^visitor_id[\d]+$/;i.NON_HUMAN_DEVICES=[/adsbot-google/i,/googlebot/i];i.URL_CURRENT=function(){var i=document.URL;e.Config.isInIFrame&&(i=document.referrer);i=encodeURIComponent(i);return i}();i.PROTOCOL="https://"}(t=i.Constants||(i.Constants={}))}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{tokens:Demandbase.Utilities.Constants})}(window);var Demandbase;!function(e){var i=function(){function i(i){void 0===i&&(i={});this.name=i.name||"";this.modify=i.modify||null;this.segments=i.segments||[];this.url=i.url||[];this.modify||(this.modify=function(){e.Utilities.Logging.log("DBContent: modify function not defined")});"string"==typeof this.segments&&(this.segments=[this.segments]);"string"==typeof this.url&&(this.url=[this.url])}i.prototype.run=function(){var i=!1;for(var t in this.url)if(this.url.hasOwnProperty(t)){var n=this.url[t];e.Utilities.isCurrentPage(n)&&(i=!0)}if(i){var o=!1;for(var t in this.segments)if(this.segments.hasOwnProperty(t)){var a=this.segments[t],r=window.Demandbase.Segments[a];"undefined"!=typeof r&&r&&(o=!0)}if(!o){e.Utilities.Logging.log("DBContent modify "+this.name+" not fired.  Segment "+a);return!1}try{e.Utilities.Logging.log("DBContent: running modify function for: "+this.name);this.modify.call(document)}catch(s){s.name=e.Utilities.Constants.MODIFICATION_ERROR;throw s}return!0}e.Utilities.Logging.log("DBContent modify "+this.name+" not fired. no URL match with: "+this.url);return!1};return i}();e.DBContent=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i;!function(i){function t(i){if(!i)return!1;var t=["name","segments","pages","modify"];if("function"!=typeof i.modify){e.Utilities.Logging.log("DBContentBuilder: invalid type in config.");return!1}for(var n=0;n<t.length;n++)if("undefined"==typeof i[t[n]]){e.Utilities.Logging.log("DBContentBuilder: invalid config missing: "+t[n]);return!1}return!0}function n(i){if(t(i)){"string"==typeof i.pages?i.url=[i.pages]:i.url=i.pages;"string"==typeof i.segments&&(i.segments=[i.segments]);return new e.DBContent(i)}return null}i.isValid=t;i.build=n}(i=e.DBContentBuilder||(e.DBContentBuilder={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i;!function(i){var t;!function(i){function t(i){var t=!0;if(!o(i)){e.Utilities.Logging.log("Event not added.");return!1}var a=i.type||e.Utilities.Constants.DFLT_EVENT_TYPE,r=i.elements,s=r.constructor;if(s!==HTMLCollection&&s!==NodeList)return n(i.elements,a,i.listener);for(var l in r){var d=!1;if(r.hasOwnProperty(l)){d=n(r[l],a,i.listener);if(!d){t=!1;e.Utilities.Logging.log("Event not added to"+r[l])}}}return t}function n(i,t,n){if(!i){e.Utilities.Logging.log("Event not registered - invalid element/s.");return null}i.jquery&&(i=i[0]);e.Utilities.addEventListener(i,t,n);e.Utilities.Logging.log("Event Listener bind to: "+i+" on event "+t);return!0}function o(i){for(var t=!1,n=["elements","listener"],o=i.elements||null,a=i.listener||null,r=0;r<n.length;r++)if("undefined"==typeof i[n[r]]||!i[n[r]]){e.Utilities.Logging.log("Invalid Event object. Missing: "+n[r]);return!1}if("function"!=typeof a){e.Utilities.Logging.log('Invalid Event: "listener" must be a function. Got ('+a+")");return!1}o instanceof Node||o instanceof NodeList||o instanceof HTMLElement||o instanceof HTMLCollection||o instanceof Window||o instanceof Document||"function"==typeof o||"undefined"!=typeof window.Demandbase.jQuery&&o instanceof window.Demandbase.jQuery?t=!0:e.Utilities.Logging.log("Invalid Event:  element: "+o+' has type: "'+o.constructor+'" which is not proper instance type.');return t}i.add=t;i._attachListener=n;i.isValid=o}(t=i.Events||(i.Events={}))}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{events:Demandbase.Utilities.Events})}(window);var Demandbase;!function(e){var i;!function(i){var t;!function(i){function t(e){n(e)}function n(i){(e.Config.logging||"true"===e.Utilities.getQueryParam(e.Utilities.Constants.QS_ENABLE_LOG))&&e.Shims.console.log("DB: "+i)}i.logging=!1;i.debug=!1;i.alert=t;i.log=n}(t=i.Logging||(i.Logging={}))}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{logging:Demandbase.Utilities.Logging.logging,debug:Demandbase.Utilities.Logging.debug,alert:Demandbase.Utilities.Logging.alert.bind(Demandbase.Utilities.Logging),log:Demandbase.Utilities.Logging.log.bind(Demandbase.Utilities.Logging)})}(window);var Demandbase;!function(e){var i;!function(i){function t(e,i){var t={};i.cookie.split(";").forEach(function(i){var n=i.split("="),o=n[0].trim();e.test(o)&&n.length>1&&(t[o]=n[1].trim())});return t}function n(e){return document.getElementById(e)||document.getElementsByName(e)[0]||null}function o(e,i,t){e.addEventListener?e.addEventListener(i,t):e.attachEvent&&e.attachEvent(i,t)}function a(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];for(var n=e,o=0,a=i;o<a.length;o++){var r=a[o];if("undefined"==typeof n)return;n="function"==typeof r?r(n):n[r]}return n}function r(e){for(var i in e){var t=e[i];if("object"==typeof t&&null!==t&&e.hasOwnProperty(i)){for(var n in t)e[i+"_"+n]=t[n];delete e[i]}}return e}function s(i,t){if(i[t]===!1)return"false";for(var n={city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"},o=e.Config.nonCompanyDefault||e.Utilities.Constants.DFLT_NON_COMPANY,a=e.Config.emptyWatchDefault||e.Utilities.Constants.DFLT_AW_EMPTY,r=n[t]||"",s=i[t]||i[r]||o,l=(i.company_name||o)!==o,d=e.Shims.keys(i),u=!1,c=0;c<d.length;c++)if(0===e.Shims.indexOf(d[c],"watch_list_")){u=!0;break}if(-1!==e.Shims.indexOf(t,"watch_list_")&&l){u||(a=e.Config.nonWatchDefault||e.Utilities.Constants.DFLT_NON_AW);s=i[t]||a}return s}function l(e,i){var i=i||window||{location:{search:"",hash:""}},t={},n=i.location.search.substring(1)||i.location.hash&&i.location.hash.split("?")[1];if(!n)return"";for(var o=n.split("&"),a=0;a<o.length;a++){var r=o[a].split("="),s=r[0],l=r[1];t[s]=l}return t[e]||""}function d(i,t){if(i){e._loadedScripts=e._loadedScripts||{};if(!e._loadedScripts[i]){e._loadedScripts[i]=!0;var n=document.createElement("script"),o=document.getElementsByTagName("script")[0];n.async=!0;n.id=t||"";n.src="https://"+i.replace(/(^\/\/)|(^http:\/\/)|(^https:\/\/)/,"");o.parentNode.insertBefore(n,o)}}}function u(){try{return e.Shims.indexOf(window.navigator.userAgent,"MSIE ")>0}catch(i){return!0}}function c(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,i){return String.fromCharCode(parseInt("0x"+i,16))}))}function g(e,i){return e+" has been deprecated since version "+i}i.getCookiesByRegex=t;i.getElementByIdOrName=n;i.addEventListener=o;i.dig=a;i.flatten=r;i.getAttributeValue=s;i.getQueryParam=l;i.insertScript=d;i.isOldBrowserOrUserAgentUnavailable=u;i.b64EncodeUnicode=c;i.generateDeprecationMessage=g}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,Demandbase.Utilities);Demandbase.Shims.assign(e.Demandbase.utils,Demandbase.utils,{loadScript:Demandbase.Utilities.insertScript,flattenData:Demandbase.Utilities.flatten,getAttrValue:Demandbase.Utilities.getAttributeValue})}(window);var Demandbase;!function(e){var i;!function(i){function t(){return window.top!==window.self}function n(){return document.readyState}function o(){try{if(window.navigator.cookieEnabled){document.cookie="COOKIE_TEST=TEST";if(-1!==e.Shims.indexOf(document.cookie,"COOKIE_TEST=TEST")){document.cookie="COOKIE_TEST=PASSED_TEST";return!0}}return!1}catch(i){return!1}}function a(i){var t=document.location.href;e.Config.isInIFrame&&(t=document.referrer);i&&(t=i);return t}function r(i,t){function n(i){var t="//";return 0===e.Shims.indexOf(i,t)?i.substring(t.length,i.length):i.replace(/^.*?:\/\//g,"")}function o(e){return e.replace(/^(www\.)/g,"")}function r(i){var t="/";-1!==e.Shims.indexOf(i,l,i.length-l.length)&&(i=i.substring(0,i.length-1));-1!==e.Shims.indexOf(i,t,i.length-t.length)&&(i=i.substring(0,i.length-1));return i}var s="?",l="#",d=document.location.hash,u=document.location.search,c=a(t);if(t){var g=e.Shims.indexOf(t,l);-1===g&&(g=t.length);d=t.substring(e.Shims.indexOf(t,l),t.length);u=t.substring(e.Shims.indexOf(t,s),g);c=t}i=n(i);i=o(i);i=r(i);c=n(c);c=o(c);c=r(c);-1===e.Shims.indexOf(i,l)&&-1!==e.Shims.indexOf(c,l)&&(c=c.substring(0,c.length-d.length));-1===e.Shims.indexOf(i,s)&&-1!==e.Shims.indexOf(c,s)&&(c=c.substring(0,c.length-u.length));c=r(c);return c===i}function s(e,i){if(!e)return!1;if(e.length<=0)return!1;"^"!==e[0]&&(e="^"+e);var t=e.length-1;"$"!==e[t]&&(e+="$");var n=a(i);return new RegExp(e).test(n)}function l(e){try{var i=window[e.toString()];i.setItem("STORAGE_CHECK","STORAGE_CHECK");i.getItem("STORAGE_CHECK");i.removeItem("STORAGE_CHECK");return!0}catch(t){return!1}}function d(e){return e?"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):null}function u(e,i){for(var t=0;t<i.length;t++)if(m(e,i[t]))return!0;return!1}function c(e){var i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return i.test(e)}function g(e){return e.replace(/[.*+?^${}()|[\]\\\/]/g,"\\$&")}function f(e){for(var i=[],t=0;t<e.length;t++)i.push(e[t]);return i}function m(i,t){return t?t.length>i.length?!1:-1!==e.Shims.indexOf(i,t):!1}i.detectIFrame=t;i.getDocumentReadyState=n;i.isCookieEnabled=o;i.isCurrentPage=r;i.isCurrentPageRegex=s;i.isStorageEnabled=l;i.jqid=d;i.includesAny=u;i.isValidEmail=c;i.escapeRegExp=g;i.nodeListToArray=f}(i=e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(){function i(e,i,t){this.config=e;this.moduleNameToConstructorMap=i;this.nameSpace=t}i.prototype.build=function(){this._parseConfig()};i.prototype._parseConfig=function(){var i=this;e.Shims.keys(this.config).forEach(function(t){var n=i._testConfigForKey(t);if(n&&3===n.length){var o=n[1],a=i.moduleNameToConstructorMap[o];if(i.nameSpace[t]){e.ErrorReporter.send(new Error("Failed to dynamically create configuration for "+t+" due to previously existing configuration with the same name."));return}if(!a){e.ErrorReporter.send(new Error("No constructor available in moduleNameToConstructor map for module: "+o));return}i.nameSpace[t]=new a(i.config[t]);i.nameSpace[t].isEnabled()&&i.nameSpace[t].initialize()}})};i.prototype._testConfigForKey=function(e){return i.REGEX_CUSTOM_MODULE_NAME.exec(e)};i.REGEX_CUSTOM_MODULE_NAME=/(.*)__(.*)/;return i}();e.ModuleFactory=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(){function i(){this.configuration={}}i.prototype.isEnabled=function(){return this.configuration.enabled};i.prototype.mergeConfigs=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var n;(n=e.Shims).assign.apply(n,[this.configuration].concat(i))};return i}();e.BaseModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.ADVERTISING_PIXEL_ID="ad";n.CONVERSION_PIXEL_ID="cn";n.RETARGETING_PIXEL_ID="rt";n.DEFAULT_CONFIGURATION={enabled:!0,key:null,reportingOnly:!1,enableBW:!0};n.configuration={};n.trackConversion=n.trackConversionListener;n.load=n.initialize;n.loadPixels=n.insertPixels;n._loadPixel=n.insertPixel;n._setCampaign=n.loadCampaign;n._setEvents=n.registerEvents;i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.Advertising);i.prototype.mergeConfigs.call(n,t||e.Config.ads);return n}__extends(t,i);t.prototype.initialize=function(){this.insertPixels();this.configuration.reportingOnly===!0&&this.configuration.key&&this.configuration.key!==e.Config.key&&e.IpApiReportingOnly.get(this.configuration.key,!1)};t.prototype.isConversionPage=function(){throw new Error(e.Utilities.generateDeprecationMessage("AdvertisingModule.isConversionPage","8.0.0"))};t.prototype.insertPixels=function(){this.configuration.enableBW&&this.insertBWPixel(this.ADVERTISING_PIXEL_ID)};t.prototype.createAndAppendPixel=function(e,i){var t=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],n=document.createElement("img");n.setAttribute("style","display:none");n.setAttribute("alt","");n.setAttribute("aria-hidden","true");n.id=e;n.src=i;t.appendChild(n)};t.prototype.insertBWPixel=function(i){var t="db_bw_pixel_"+i,n=e.Utilities.Constants.PROTOCOL+e.Utilities.Constants.URL_BW_AD_PIXEL;this.createAndAppendPixel(t,n)};t.prototype.insertPixel=function(i){throw new Error(e.Utilities.generateDeprecationMessage("AdvertisingModule.insertPixel","8.0.0"))};t.prototype.loadCampaign=function(){throw new Error(e.Utilities.generateDeprecationMessage("AdvertisingModule.loadCampaign","8.0.0"))};t.prototype.registerEvents=function(){throw new Error(e.Utilities.generateDeprecationMessage("AdvertisingModule.registerEvents","8.0.0"))};t.prototype.trackConversionListener=function(){throw new Error(e.Utilities.generateDeprecationMessage("AdvertisingModule.trackConversionListener","8.0.0"))};t.prototype.virtualPageViewListener=function(){throw new Error(e.Utilities.generateDeprecationMessage("AdvertisingModule.virtualPageViewListener","8.0.0"))};return t}(e.BaseModule);e.AdvertisingModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.DEFAULT_CONFIGURATION={enabled:!0,assetList:["api.demandbase.com/autocomplete/widget.js","api.demandbase.com/autocomplete/widget.min.js","autocomplete.demandbase.com/autocomplete/widget.js","autocomplete.demandbase.com/autocomplete/widget.min.js","scripts.demandbase.com/formWidget.js","scripts.demandbase.com/formWidgetDebug.js","scripts.demandbase.com/demandbase-sdk.js","scripts.demandbase.com/demandbase-sdk-debug.js","scripts.demandbase.com/forms.js","scripts.demandbase.com/forms.min.js"]};n.ERROR_MESSAGE_PREFIX="Legacy Asset Detected: ";n.configuration={};n.values={};i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.AssetReporter);return n}__extends(t,i);t.prototype.initialize=function(){"complete"===e.Utilities.getDocumentReadyState()?this.read():e.Utilities.addEventListener(window,"load",e.ErrorReporter.wrap(this.read.bind(this)))};t.prototype.read=function(){for(var i=this.configuration.assetList.length,t=0;i>t;t++){var n=this.configuration.assetList[t],o=document.querySelector("script[src='"+e.Utilities.Constants.PROTOCOL+n+"']");if(o){this.values[n]=!0;this.send(n)}else this.values[n]=!1}};t.prototype.send=function(i){var t=new Error(this.ERROR_MESSAGE_PREFIX+i);e.ErrorReporter.send(t)};return t}(e.BaseModule);e.AssetReporterModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.DEFAULT_CONFIGURATION={enabled:!0};n.configuration={};n.mods={};i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.Content);e.Shims.assign(n.configuration,t||e.Config.content);return n}__extends(t,i);t.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.callback.bind(this));this.setup()};t.prototype.callback=function(){this.setup();this.modify()};t.prototype.setup=function(){if("undefined"!=typeof e.Config.content)for(var i in e.Config.content){var t=e.Config.content[i],n=window.Demandbase.DBContentBuilder.build(t);n&&(this.mods[n.name]=n)}};t.prototype.modify=function(){var i=this;return e.ErrorReporter.wrap(function(){var e=!1;for(var t in i.mods)if(i.mods.hasOwnProperty(t)){var n=i.mods[t],o=n.run();o&&(e=!0)}})()};return t}(e.BaseModule);e.ContentModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.DEFAULT_CONFIGURATION={enabled:!0,formInputSelectors:['input[type="text"]','input[type="email"]'],inputSearchTerms:["email","user","login"]};n.configuration={};n.baseUrl="https://segments.company-target.com";n.activeSetTimeout=0;i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.EmailDomainReporter);return n}__extends(t,i);t.prototype.initialize=function(){this.sendDataIfAlreadyPresent();this.attachListenersIfDocumentReady()};t.prototype.sendDataIfAlreadyPresent=function(){var i=this,t=this.suspectedEmailInputs();t.length<1||t.forEach(function(t){var n=t.value;if(e.Utilities.isValidEmail(n)){var o=n.split("@")[1].toLowerCase();i.send(o)}})};t.prototype.attachListenersIfDocumentReady=function(){var i=this;"loading"!==e.Utilities.getDocumentReadyState()?this.suspectedEmailInputs().forEach(function(t){t.addEventListener("input",function(){var n=t.value;if(e.Utilities.isValidEmail(n)){var o=n.split("@")[1].toLowerCase();window.clearTimeout(i.activeSetTimeout);i.activeSetTimeout=window.setTimeout(function(){i.send(o)},400)}})}):document.addEventListener("DOMContentLoaded",this.attachListenersIfDocumentReady.bind(this))};t.prototype.suspectedEmailInputs=function(){var i=this,t=e.Utilities.nodeListToArray(document.querySelectorAll(this.configuration.formInputSelectors.join(","))).map(function(e){return e}),n=t.filter(function(t){var n=t.name.toLowerCase(),o=t.id.toLowerCase(),a=i.configuration.inputSearchTerms;return e.Utilities.includesAny(n,a)?!0:e.Utilities.includesAny(o,a)?!0:!1});return n};t.prototype.send=function(i){var t;window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP"));var n=e.Config.key||e.Utilities.dig(e.Config,"analytics","key")||e.Utilities.dig(e.Config,"ads","key")||e.Utilities.dig(e.Config,"forms","key")||"",o=e.Utilities.b64EncodeUnicode("vendor=mariposa&p1="+i+"&token="+n),a=this.baseUrl+"/l/"+o;try{t.open("GET",a);t.withCredentials=!0;t.setRequestHeader("Content-type","application/json");t.send()}catch(r){throw r}};t.prototype.responseHandler=function(e){};return t}(e.BaseModule);e.EmailDomainReporterModule=i}(Demandbase||(Demandbase={}));!function(e,i){var t="0.7.21",n="",o="?",a="function",r="undefined",s="object",l="string",d="major",u="model",c="name",g="type",f="vendor",m="version",p="architecture",h="console",b="mobile",w="tablet",y="smarttv",v="wearable",_="embedded",D={extend:function(e,i){var t={};for(var n in e)i[n]&&i[n].length%2===0?t[n]=i[n].concat(e[n]):t[n]=e[n];return t},has:function(e,i){return"string"==typeof e?-1!==i.toLowerCase().indexOf(e.toLowerCase()):!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={rgx:function(e,t){for(var n,o,r,l,d,u,c=0;c<t.length&&!d;){var g=t[c],f=t[c+1];n=o=0;for(;n<g.length&&!d;){d=g[n++].exec(e);if(d)for(r=0;r<f.length;r++){u=d[++o];l=f[r];typeof l===s&&l.length>0?2==l.length?typeof l[1]==a?this[l[0]]=l[1].call(this,u):this[l[0]]=l[1]:3==l.length?typeof l[1]!==a||l[1].exec&&l[1].test?this[l[0]]=u?u.replace(l[1],l[2]):i:this[l[0]]=u?l[1].call(this,u,l[2]):i:4==l.length&&(this[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):i):this[l]=u?u:i}}c+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var a=0;a<t[n].length;a++)if(D.has(t[n][a],e))return n===o?i:n}else if(D.has(t[n],e))return n===o?i:n;return e}},E={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,m],[/(opios)[\/\s]+([\w\.]+)/i],[[c,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[c,m],[/(konqueror)\/([\w\.]+)/i],[[c,"Konqueror"],m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],m],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[c,"Edge"],m],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],m],[/(Avast)\/([\w\.]+)/i],[[c,"Avast Secure Browser"],m],[/(AVG)\/([\w\.]+)/i],[[c,"AVG Secure Browser"],m],[/(puffin)\/([\w\.]+)/i],[[c,"Puffin"],m],[/(focus)\/([\w\.]+)/i],[[c,"Firefox Focus"],m],[/(opt)\/([\w\.]+)/i],[[c,"Opera Touch"],m],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],m],[/(windowswechat qbcore)\/([\w\.]+)/i],[[c,"WeChat(Win) Desktop"],m],[/(micromessenger)\/([\w\.]+)/i],[[c,"WeChat"],m],[/(brave)\/([\w\.]+)/i],[[c,"Brave"],m],[/(qqbrowserlite)\/([\w\.]+)/i],[c,m],[/(QQ)\/([\d\.]+)/i],[c,m],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[c,m],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[c,m],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[c,m],[/(MetaSr)[\/\s]?([\w\.]+)/i],[c],[/(LBBROWSER)/i],[c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[c,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[m,[c,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[c,m],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[m,[c,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,/(.+)/,"$1 WebView"],m],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[c,/(.+(?:g|us))(.+)/,"$1 $2"],m],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[c,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[c,"Sailfish Browser"],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,m],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],m],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[c,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],m],[/(coast)\/([\w\.]+)/i],[[c,"Opera Coast"],m],[/fxios\/([\w\.-]+)/i],[m,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,c],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[c,"GSA"],m],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[m,C.str,E.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[c,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,m]],
cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,D.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",D.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,D.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[u,f,[g,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[f,"Apple"],[g,w]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[f,"Apple"],[g,y]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,u,[g,w]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[u,[f,"Amazon"],[g,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[u,C.str,E.device.amazon.model],[f,"Amazon"],[g,b]],[/android.+aft([bms])\sbuild/i],[u,[f,"Amazon"],[g,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,f,[g,b]],[/\((ip[honed|\s\w*]+);/i],[u,[f,"Apple"],[g,b]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,u,[g,b]],[/\(bb10;\s(\w+)/i],[u,[f,"BlackBerry"],[g,b]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[u,[f,"Asus"],[g,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[f,"Sony"],[u,"Xperia Tablet"],[g,w]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,"Sony"],[g,b]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[f,u,[g,h]],[/android.+;\s(shield)\sbuild/i],[u,[f,"Nvidia"],[g,h]],[/(playstation\s[34portablevi]+)/i],[u,[f,"Sony"],[g,h]],[/(sprint\s(\w+))/i],[[f,C.str,E.device.sprint.vendor],[u,C.str,E.device.sprint.model],[g,b]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[f,[u,/_/g," "],[g,b]],[/(nexus\s9)/i],[u,[f,"HTC"],[g,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[u,[f,"Huawei"],[g,b]],[/android.+(bah2?-a?[lw]\d{2})/i],[u,[f,"Huawei"],[g,w]],[/(microsoft);\s(lumia[\s\w]+)/i],[f,u,[g,b]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[f,"Microsoft"],[g,h]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,"Microsoft"],[g,b]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[f,"Motorola"],[g,b]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[f,"Motorola"],[g,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[f,D.trim],[u,D.trim],[g,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,"Samsung"],[g,y]],[/\(dtv[\);].+(aquos)/i],[u,[f,"Sharp"],[g,y]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[f,"Samsung"],u,[g,w]],[/smart-tv.+(samsung)/i],[f,[g,y],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[f,"Samsung"],u,[g,b]],[/sie-(\w*)/i],[u,[f,"Siemens"],[g,b]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[f,"Nokia"],u,[g,b]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[u,[f,"Acer"],[g,w]],[/android.+([vl]k\-?\d{3})\s+build/i],[u,[f,"LG"],[g,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],u,[g,w]],[/(lg) netcast\.tv/i],[f,u,[g,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[u,[f,"LG"],[g,b]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[f,u,[g,w]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[f,"Lenovo"],[g,w]],[/(lenovo)[_\s-]?([\w-]+)/i],[f,u,[g,b]],[/linux;.+((jolla));/i],[f,u,[g,b]],[/((pebble))app\/[\d\.]+\s/i],[f,u,[g,v]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[f,u,[g,b]],[/crkey/i],[[u,"Chromecast"],[f,"Google"],[g,y]],[/android.+;\s(glass)\s\d/i],[u,[f,"Google"],[g,v]],[/android.+;\s(pixel c)[\s)]/i],[u,[f,"Google"],[g,w]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[u,[f,"Google"],[g,b]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[f,"Xiaomi"],[g,b]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[f,"Xiaomi"],[g,w]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[u,[f,"Meizu"],[g,b]],[/(mz)-([\w-]{2,})/i],[[f,"Meizu"],u,[g,b]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[u,[f,"OnePlus"],[g,b]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[u,[f,"RCA"],[g,w]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[u,[f,"Dell"],[g,w]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[u,[f,"Verizon"],[g,w]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[f,"Barnes & Noble"],u,[g,w]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[u,[f,"NuVision"],[g,w]],[/android.+;\s(k88)\sbuild/i],[u,[f,"ZTE"],[g,w]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[u,[f,"Swiss"],[g,b]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[u,[f,"Swiss"],[g,w]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[u,[f,"Zeki"],[g,w]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[f,"Dragon Touch"],u,[g,w]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[u,[f,"Insignia"],[g,w]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[u,[f,"NextBook"],[g,w]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[f,"Voice"],u,[g,b]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[f,"LvTel"],u,[g,b]],[/android.+;\s(PH-1)\s/i],[u,[f,"Essential"],[g,b]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[u,[f,"Envizen"],[g,w]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[f,u,[g,w]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[u,[f,"MachSpeed"],[g,w]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[f,u,[g,w]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[u,[f,"Rotor"],[g,w]],[/android.+(KS(.+))\s+build/i],[u,[f,"Amazon"],[g,w]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[f,u,[g,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[g,D.lowerize],f,u],[/[\s\/\(](smart-?tv)[;\)]/i],[[g,y]],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[f,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,m],[/rv\:([\w\.]{1,9}).+(gecko)/i],[m,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[m,C.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[m,C.str,E.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[c,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[c,"Symbian"],m],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[c,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],m],[/(sunos)\s?([\w\.\d]*)/i],[[c,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[c,m],[/(haiku)\s(\w+)/i],[c,m],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[m,/_/g,"."],[c,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[c,m]]},O=function(t,o){if("object"==typeof t){o=t;t=i}if(!(this instanceof O))return new O(t,o).getResult();var a=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n),r=o?D.extend(S,o):S;this.getBrowser=function(){var e={name:i,version:i};C.rgx.call(e,a,r.browser);e.major=D.major(e.version);return e};this.getCPU=function(){var e={architecture:i};C.rgx.call(e,a,r.cpu);return e};this.getDevice=function(){var e={vendor:i,model:i,type:i};C.rgx.call(e,a,r.device);return e};this.getEngine=function(){var e={name:i,version:i};C.rgx.call(e,a,r.engine);return e};this.getOS=function(){var e={name:i,version:i};C.rgx.call(e,a,r.os);return e};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return a};this.setUA=function(e){a=e;return this};return this};O.VERSION=t;O.BROWSER={NAME:c,MAJOR:d,VERSION:m};O.CPU={ARCHITECTURE:p};O.DEVICE={MODEL:u,VENDOR:f,TYPE:g,CONSOLE:h,MOBILE:b,SMARTTV:y,TABLET:w,WEARABLE:v,EMBEDDED:_};O.ENGINE={NAME:c,VERSION:m};O.OS={NAME:c,VERSION:m};if(typeof exports!==r){typeof module!==r&&module.exports&&(exports=module.exports=O);exports.UAParser=O}else"function"==typeof define&&define.amd?define(function(){return O}):e&&(e.UAParser=O);var A=e&&(e.jQuery||e.Zepto);if(A&&!A.ua){var k=new O;A.ua=k.getResult();A.ua.get=function(){return k.getUA()};A.ua.set=function(e){k.setUA(e);var i=k.getResult();for(var t in i)A.ua[t]=i[t]}}}("object"==typeof window?window:this);var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.VERSION="0.0.0";n.PROJECT_ID="141580";n.PROJECT_KEY="9a0a3519e930259f5886a7af53b0ccaa";n.SENTRY_PROJECT_ID="1190150";n.SENTRY_PUBLIC_KEY="3c9d467f8a9d4295b0f8320ae852091d";n.DEFAULT_CONFIGURATION={environment:"production",ignorableErrors:[]};n.configuration={};n.additionalErrorDetails={};i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.ErrorReporter);return n}__extends(t,i);t.prototype.initialize=function(){};t.prototype.send=function(i){if(!(e.Shims.indexOf(this.configuration.ignorableErrors,i.name)>-1||e.Shims.indexOf(this.configuration.ignorableErrors,i.message)>-1)){var t;window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP"));var n="https://sentry.io/api/"+this.SENTRY_PROJECT_ID+"/store/?sentry_version=7&sentry_key="+this.SENTRY_PUBLIC_KEY;try{t.open("POST",n,!0);t.setRequestHeader("Content-type","text/plain;charset=UTF-8");t.send(this.formatMessage(i,!0))}catch(o){}}};t.prototype.wrap=function(i){var t=this;if("function"!=typeof i)throw new Error("Invalid Function: "+i);return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{if("undefined"!=typeof i&&"function"==typeof i.apply)return i.apply(t,n)}catch(a){t.send(a);e.Utilities.Logging.alert("Error: "+a+"\n"+a.stack)}}};t.prototype.formatMessage=function(i,t){void 0===t&&(t=!1);var n=this.parseError(i),o=this.parseContext(),a=this.parseEnviroment(),r=this.parseSession(),s=this.parseParams(),l=this.additionalErrorDetails;if(t){var d=this.formatErrorForSentry(n);return e.Shims.JSON.stringify({logger:o.notifier.name,platform:"javascript",release:o.version,environment:o.environment,request:{url:o.url},contexts:{browser:{userAgent:o.userAgent}},tags:{clientId:a.config.clientId},extra:{readyState:o.readyState,config:a.config,companyProfile:r,additionalErrorDetails:l},exception:{values:[d]}})}return e.Shims.JSON.stringify({errors:[n],context:o,environment:a,session:r,params:s})};t.prototype.formatErrorForSentry=function(e){for(var i=[],t=0,n=e.backtrace;t<n.length;t++){var o=n[t];i.push({"function":o["function"],filename:o.file,lineno:o.line,colno:o.column})}return{type:e.type,value:e.message,stacktrace:{frames:i}}};t.prototype.parseError=function(i){return{type:i.name,message:i.message,backtrace:e.Utilities.ErrorStackParser.parse(i)}};t.prototype.parseContext=function(){var i;if(window.UAParser){i=new window.UAParser;i.setUA(navigator.userAgent)}return{notifier:{name:"ErrorReporterModule",version:this.VERSION},environment:this.configuration.environment,version:e.version,url:window.location.href,userAgent:i?i.getResult():navigator.userAgent,rootDirectory:window.location.origin,readyState:document.readyState}};t.prototype.parseEnviroment=function(){return{config:e.Utilities.dig(e,"Config")}};t.prototype.parseSession=function(){return{companyProfile:e.Utilities.dig(e,"IP","CompanyProfile")}};t.prototype.parseParams=function(){return{}};return t}(e.BaseModule);e.ErrorReporterModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(e){var t=i.call(this)||this;t.FORMS_REMOTE_MODULE_URL="tag.demandbase.com/shared/forms_5f7623bda3.min.js";t.DEFAULT_CONFIGURATION={enabled:void 0,emailID:null,emailFields:[]};t.configuration={};t.inserted=!1;t.setConfiguration(e);return t}__extends(t,i);t.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.whenReady.bind(this))};t.prototype.whenReady=function(){this.isMktoForms2Installed()?window.MktoForms2.whenReady(e.ErrorReporter.wrap(this.load.bind(this))):this.load()};t.prototype.load=function(){var i=!1;if("function"==typeof e.Config.isFormPage){i=e.Config.isFormPage();this.setConfiguration();i=e.Config.isFormPage()}else i=this.isFormPage();i&&!this.inserted&&this.insertForms()};t.prototype.isFormPage=function(){var i=this.configuration.emailFields;this.configuration.emailID&&i.push(this.configuration.emailID);for(var t=0;t<i.length;t++)if(e.Utilities.getElementByIdOrName(i[t]))return!0;return!1};t.prototype.isMktoForms2Installed=function(){return void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady};t.prototype.insertForms=function(){this.inserted=!0;e.Connectors.initWebForm=this.initializeWebForm;e.Utilities.insertScript(e.FormsLoader.FORMS_REMOTE_MODULE_URL,"db_form_module")};t.prototype.initializeWebForm=function(i){i=i||e.Config.forms||e.Config.Forms||{};window.Demandbase.Connectors.WebForm.connect(i)};t.prototype.setConfiguration=function(t){i.prototype.mergeConfigs.call(this,this.DEFAULT_CONFIGURATION,t||e.Config.Forms);void 0===this.configuration.enabled&&void 0!==e.Config.Forms&&(this.configuration.enabled=!0);i.prototype.mergeConfigs.call(this,this.DEFAULT_CONFIGURATION,t||e.Config.forms);void 0===this.configuration.enabled&&void 0!==e.Config.forms&&(this.configuration.enabled=!0)};return t}(e.BaseModule);e.FormsLoaderModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.SO_REMOTE_MODULE_URL="https://tag.demandbase.com/shared/siteOptimization_5f7623bda3.min.js";n.REMOTE_STYLESHEET_URL="https://tag.demandbase.com/shared/siteOptimization_5f7623bda3.css";n.DEFAULT_CONFIGURATION={additionalClass:null,backgroundColorClass:null,closedTitle:"Recommended Content",companyProfile:null,cssFileURL:n.REMOTE_STYLESHEET_URL,delay:0,enabled:void 0,fadeIn:0,fontColor:null,fontName:null,googleAnalyticsTrackerName:null,isGoogleAnalyticsEnabled:!1,isRippleAnimation:!0,isSwitchersDots:!0,isSwitchersArrows:!1,itemBackgroundColor:null,mainClass:"defaultBlock",openByDefault:!1,openTitle:null,recommendationApiURL:"https://site-optimization-api.company-target.com/recommend/",recommendationCompanyName:null,recommendationCompanyId:null,recommendationKey:null,recommendationsProtocol:"forceHTTPS",recommendationUrl:window.location.href,showCloseButton:!0,showCompanyName:!0,showFeedbackLink:!1,showIndicatorArrows:!0,showLogo:!0,showLogoWhenClosed:!0,showLogoWhenOpen:!1,showOnlyOnScroll:!1,showTitleWhenClosed:!0,showTitleWhenOpen:!0,switcherArrowsColor:"#444",state:{openedRecommendationBlock:null},widgetBackgroundColor:null,widgetContainerId:null};n.configuration={};n.inserted=!1;i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.SiteOptimization);n.configuration.recommendationKey=e.Config.key;return n}__extends(t,i);t.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.callback.bind(this))};t.prototype.callback=function(e){this.configuration.companyProfile=e;this.insertSiteOptimization()};t.prototype.insertSiteOptimization=function(){this.inserted=!0;e.Utilities.insertScript(e.SiteOptimizationLoader.SO_REMOTE_MODULE_URL,"db_site_optimization_module")};return t}(e.BaseModule);e.SiteOptimizationLoaderModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.DEFAULT_CONFIGURATION={enabled:!0,events:null,fieldMap:null,googleAnalyticsClassicScope:2,trackerName:null,trackerId:null};n.configuration={};n.gType="";n._cEvent=n.sendEvent;i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.Google_Analytics);i.prototype.mergeConfigs.call(n,t||e.Config.analytics);return n}__extends(t,i);t.prototype.initialize=function(){this._detectG();this._setTrackerName();this.configuration.fieldMap&&"{}"!==e.Shims.JSON.stringify(this.configuration.fieldMap)&&e.Utilities.Callbacks.registerCallback(this.callback.bind(this));this._setEvents()};t.prototype.sendEvent=function(i,t,n){"ga"===this.gType?this._trackEvent(i,t,n):window.ga(function(){e.Connectors.Google_Analytics._sendEvent(i,t,n)});e.Utilities.Logging.log("Sent Custom Event:"+i+"/"+t+"/"+n)};t.prototype._setTrackerName=function(){var e=this;if(!this.configuration.trackerName){var i="undefined"!=typeof window.ga,t="undefined"!=typeof window._gat&&"function"==typeof window._gat._getTrackers;if(t){var n=_gat._getTrackers();if("undefined"!=typeof n.length&&n.length>0){if(this.configuration.trackerId)for(var o=0;o<n.length;o++)if(n[o]._getName().length>0){var a=n[o]._getName();if(n[o]._getAccount()===this.configuration.trackerId&&!this.configuration.trackerName){this.configuration.trackerName=a;return}}var r=n[0]||null;if(r&&"function"==typeof r._getName){var s=r._getName()||null;this.configuration.trackerName||(this.configuration.trackerName=s)}}}i&&window.ga(function(){var i=window.ga.getAll()||[];if(e.configuration.trackerId)for(var t=0;t<i.length;t++){var n=i[t],o=n.get("name");if(n.get("trackingId")===e.configuration.trackerId){e.configuration.trackerName=o;return}}if("undefined"!=typeof i.length&&i.length>0){var n=i[0]||null;if(n&&"function"==typeof n.get){var a=n.get("name")||null;e.configuration.trackerName=a}}})}};t.prototype.callback=function(i){try{if(!i)throw new Error("Error - no data passed to callback");var t=e.Connectors.Google_Analytics;t._detectG();t._setTrackerName();for(var n in t.configuration.fieldMap)if(t.configuration.fieldMap.hasOwnProperty(n)){var o=+n,a=t.configuration.fieldMap[n],r=e.Utilities.getAttributeValue(i,a);t._var(o,a,r.toString())}t.sendEvent("Demandbase","API Resolution","IP API")}catch(s){e.Utilities.Logging.log("GA Error: "+s+"\n"+s.stack);e.Connectors.Google_Analytics.sendEvent("Demandbase","API Resolution","Callback Error")}};t.prototype._detectG=function(){if(window._gaq){this.gType="ga";_gaq.push(["_addDevId","NE7T9"])}else this.gType=null;this._setGaObject();try{window.ga(function(){e.Connectors.Google_Analytics.gType="ua"})}catch(i){e.Connectors.Google_Analytics.gType="ua"}e.Utilities.Logging.log("Detected Google version: "+this.gType)};t.prototype._sendEvent=function(e,i,t){var n=this.configuration.trackerName?this.configuration.trackerName+".send":"send";window.ga(n,"event",{eventCategory:e,eventAction:i,eventLabel:t,nonInteraction:!0})};t.prototype._setCustomDimension=function(e,i){var t=this.configuration.trackerName?this.configuration.trackerName+".set":"set";window.ga(t,"dimension"+e,i)};t.prototype._setCustomVariable=function(e,i,t){var n=this.configuration.trackerName?this.configuration.trackerName+"._setCustomVar":"_setCustomVar",o=this.configuration.googleAnalyticsClassicScope||2;window._gaq.push([n,e>>0,i,t,o])};t.prototype._setEvents=function(){var i=this.configuration.events||[];if(i)for(var t in i)if(i.hasOwnProperty(t)){var n=i[t];if(n.data){var o=n.data.category||"",a=n.data.action||"",r=n.data.label||"";"undefined"==typeof n.listener&&o&&a&&r?n.listener=function(){e.Connectors.Google_Analytics.sendEvent(o,a,r);e.Utilities.Logging.log("Event listener ran")}:o&&a&&r||e.Utilities.Logging.log("Need to define a custom listener function or set data with category/action/label")}e.Utilities.Events.add(n)}};t.prototype._setGaObject=function(){if("undefined"==typeof window.ga){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)};window.ga.l=+new Date}};t.prototype._trackEvent=function(e,i,t){var n=this.configuration.trackerName?this.configuration.trackerName+"._trackEvent":"_trackEvent";window._gaq.push([n,e,i,t,0,1])};t.prototype._var=function(i,t,n){"ga"===this.gType?this._setCustomVariable(i,t,n):window.ga(function(){e.Connectors.Google_Analytics._setCustomDimension(i,n)});e.Utilities.Logging.log(i+" "+t+" : "+n)};return t}(e.BaseModule);e.BaseGoogle_AnalyticsModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}__extends(i,e);i.prototype.getTrackerInfo=function(){var e=[],i=[];if("undefined"!=typeof window._gaq&&"undefined"!=typeof window._gat&&"function"==typeof window._gat._getTrackers){var t=window._gat._getTrackers();t.forEach(function(i){i._getName().length>0&&e.push({type:"classic",trackerId:i._getAccount(),name:i._getName()})})}if("undefined"!=typeof window.ga&&"undefined"!=typeof window.ga.getAll){var n=window.ga.getAll();n.forEach(function(e){i.push({type:"universal",trackerId:e.get("trackingId"),name:e.get("name")})})}return i.concat(e)};return i}(e.BaseGoogle_AnalyticsModule);e.Google_AnalyticsModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.DEFAULT_CONFIGURATION={enabled:!0};n.configuration={};i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,t||e.Config.Google_TagManager);return n}__extends(t,i);t.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.callback.bind(this))};t.prototype.callback=function(i){e.Connectors.Google_TagManager.pushToDataLayer(i)};t.prototype.pushToDataLayer=function(i,t){if(!window.google_tag_manager||!window.dataLayer||"function"!=typeof dataLayer.push)return!1;var n=t?"_"+t:"";dataLayer.push(i);dataLayer.push({event:"Demandbase_Loaded"+n});e.Utilities.Logging.log("Pushed to GTM dataLayer");return!0};return t}(e.BaseModule);e.Google_TagManagerModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(i){function t(t){var n=i.call(this)||this;n.TEST_MODE_ENABLED="db_useTestIp";n.TEST_MODE_VALUE="db_ip";n.API_ENDPOINT="api.company-target.com/api/v2/ip.json";n.DEFAULT_CONFIGURATION={apiKey:null,baseUrl:n.API_ENDPOINT,testModeEnabled:!1,testModeValue:null,masIntegrations:{pardot:!1},enablePardotPolling:!0};n.configuration={};n.initialized=!1;n.pollForPardotStart=0;n.pardotMaxPollWindow=5e3;n.key=n.configuration.apiKey;n.useTestValue=n.configuration.testModeEnabled;n.testValue=n.configuration.testModeValue;n.load=n.get;n._loadOnce=n.getOnce;n.CompanyProfile=void 0;n.isCalled=!1;try{i.prototype.mergeConfigs.call(n,n.DEFAULT_CONFIGURATION,{apiKey:e.Config.key||e.Utilities.dig(e.Config,"analytics","key")||e.Utilities.dig(e.Config,"ads","key")||e.Utilities.dig(e.Config,"forms","key"),testModeEnabled:e.Utilities.getQueryParam(n.TEST_MODE_ENABLED)||e.Config.useTestIp,testModeValue:e.Utilities.getQueryParam(n.TEST_MODE_VALUE)||e.Config.testIp},t||e.Config.IpApiModule);n.initialized=!0}catch(o){n.initialized=!1}return n}__extends(t,i);t.prototype.initialize=function(){try{e.Shims.assign(this.configuration,this.configuration,{apiKey:e.Config.key||e.Utilities.dig(e.Config,"analytics","key")||e.Utilities.dig(e.Config,"ads","key")||e.Utilities.dig(e.Config,"forms","key"),testModeEnabled:e.Utilities.getQueryParam(this.TEST_MODE_ENABLED)||e.Config.useTestIp,testModeValue:e.Utilities.getQueryParam(this.TEST_MODE_VALUE)||e.Config.testIp});this.initialized=!0}catch(i){this.initialized=!1;e.ErrorReporter.send(i)}};t.prototype.get=function(i,t){var n=this;void 0===i&&(i=void 0);void 0===t&&(t=!0);this.initialized||this.initialize();var o;window.XMLHttpRequest?o=new XMLHttpRequest:window.ActiveXObject&&(o=new ActiveXObject("Microsoft.XMLHTTP"));if(!o||e.Utilities.isOldBrowserOrUserAgentUnavailable()){this.getByDomScript(i,t);return e.Utilities.Logging.log("IP API query via DOM tag")}var a={key:i||this.configuration.apiKey,query:this.fetchIpAddress(),mas_integrations:void 0,src:"tag"},r=e.Utilities.getQueryParam(e.Utilities.Constants.QS_PREVIEW_TOKEN);r&&(a.preview_token=r);if(!a.key)return e.Utilities.Logging.log("IP API query cancelled - check auth key.");var s=this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot;s?a.mas_integrations=e.Utilities.b64EncodeUnicode(e.Shims.JSON.stringify({pardot:this.fetchOrPollForPardotCookie()||{}})):e.Utilities.Logging.log("No Pardot integration in config, skipping cookie sync");t&&(o.onreadystatechange=e.ErrorReporter.wrap(function(){n.responseHandler(o)}));try{o.open("GET","https://"+e.Utilities.Api.buildApiUrl(this.configuration.baseUrl,a));"undefined"!=typeof o.withCredentials&&(o.withCredentials=!0);o.send()}catch(l){if(0!==o.status)throw l;if(!this.isIgnorableDevice())throw new Error("IP API Request Blocked")}};t.prototype.isIgnorableDevice=function(){for(var i=0;i<e.Utilities.Constants.NON_HUMAN_DEVICES.length;i++)if(e.Utilities.Constants.NON_HUMAN_DEVICES[i].test(window.navigator.userAgent))return!0;return!1};t.prototype.getByDomScript=function(i,t){void 0===i&&(i=void 0);void 0===t&&(t=!0);var n={key:i||this.configuration.apiKey,query:this.fetchIpAddress(),callback:t?"Demandbase.Utilities.Callbacks.domScriptCallback":""};if(!n.key)return e.Utilities.Logging.log("IP API query cancelled - check auth key.");e.Utilities.insertScript(e.Utilities.Api.buildApiUrl(this.configuration.baseUrl,n),"db_ip_api")};t.prototype.getOnce=function(){if(this.isCalled)e.Utilities.Logging.log("IP API call halted. Already called.");else{this.isCalled=!0;this.get()}};t.prototype.fetchIpAddress=function(){return this.configuration.testModeEnabled?this.configuration.testModeValue:void 0};t.prototype.responseHandler=function(i){if(4===i.readyState&&200===i.status){var t=i.responseText;try{var n=e.Shims.JSON.parse(t);this.CompanyProfile=e.Utilities.flatten(n);e.Utilities.Callbacks.callback(this.CompanyProfile)}catch(o){e.ErrorReporter.additionalErrorDetails={status:i.status,readyState:i.readyState,url:i.responseURL,body:t};throw"string"==typeof t&&t?o:new Error("responseText should be text and not empty")}}};t.prototype.fetchOrPollForPardotCookie=function(){var i=this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot;if(i){var t=e.Utilities.getCookiesByRegex(e.Utilities.Constants.PARDOT_VISITOR_COOKIE_REGEX,document);if("object"==typeof t&&e.Shims.keys(t).length>0){e.Utilities.Logging.log("Found Pardot cookie, including in API request");return t}var n=this.configuration.enablePardotPolling&&0===this.pollForPardotStart;if(n!==!1){e.Utilities.Logging.log("Pardot cookie not found, initiating polling");this.pollForPardotCookie()}}else e.Utilities.Logging.log("No Pardot integration in config, skipping cookie sync")};t.prototype.pollForPardotCookie=function(){var i=this;if(0===this.pollForPardotStart){this.pollForPardotStart=Date.now();e.Utilities.Logging.log("Pardot cookie polling started at "+this.pollForPardotStart)}var t=Date.now()-this.pollForPardotStart,n=t>this.pardotMaxPollWindow;if(n)e.Utilities.Logging.log("Pardot cookie not found within "+this.pardotMaxPollWindow+" ms");else{var o=this.fetchOrPollForPardotCookie();if(o){e.Utilities.Logging.log("Pardot cookie found, making second API call");this.get(void 0,!1)}else window.setTimeout(function(){i.pollForPardotCookie()},100)}};return t}(e.BaseModule);e.IpApiModule=i}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var i=function(){function i(){}i._callback=function(i){if(i.domain||i.person){i=i.domain||i.person;e.Utilities.flatten(i);this.CompanyProfile=i}else e.Utilities.Logging.log("Demandbase.Domain: No company profile available for domain: "+this.getDomain())};i.load=function(){if("function"==typeof e.Config.getDomain&&void 0!==this.key){var i="",t={};i=this.useTestValue?this.testValue:this.getDomain();t={key:this.key,callback:"Demandbase.Domain._callback",query:i,src:"tag"};e.Utilities.Logging.log("Calling Domain API...");e.Utilities.insertScript(e.Utilities.Api.buildApiUrl(e.Utilities.Constants.URL_DOMAIN_API,t),"db_domain_api")}else e.Utilities.Logging.log("Domain API query cancelled - check auth key or Config.getDomain")};i.getDomain=function(){if(this.useTestValue)return this.testValue;if("function"==typeof e.Config.getDomain)return e.Config.getDomain.call(e.Config);e.Utilities.Logging.log("Warning: Config.getDomain fcn not defined.");return"getDomain function is not defined"};i.key=e.Utilities.dig(e,"Config","key")||e.Utilities.dig(e,"Config","analytics","key")||e.Utilities.dig(e,"Config","ads","key")||e.Utilities.dig(e,"Config","forms","key")||"ERR_NO_AUTH_KEY";i.CompanyProfile=null;i.useTestValue="true"===e.Utilities.getQueryParam(e.Utilities.Constants.QS_USE_TEST_DOMAIN)||e.Config.useTestDomain||!1;i.testValue=e.Utilities.getQueryParam(e.Utilities.Constants.QS_QUERY_DOMAIN)||e.Config.testDomain||"No Test Domain Set";return i}();e.Domain=i}(Demandbase||(Demandbase={}));if("undefined"==typeof window.__db)var __db={segments:null,conditions:null};window.Demandbase.DBCondition=function(e,i,t,n,o){this.name=e;this.attributeValue=i;this.operator=t;this.value=n;this.attributeName=o;this._checkValue=function(e){switch(t){case"equals":return this.attributeValue==e;case"not equals":return this.attributeValue!==e;case"contains":return-1!==Demandbase.Shims.indexOf(this.attributeValue,e);default:return!1}};this.evaluate=function(){t=this.operator.toLowerCase();t=window.Demandbase.DBCondition.prototype.supportedOperators[t];if("object"==typeof this.value){for(var e in this.value)if(this._checkValue(this.value[e])===!0)return!0;return!1}return this._checkValue(this.value)}};window.Demandbase.DBCondition.prototype.name="DBCondition";window.Demandbase.DBCondition.prototype.supportedOperators={"=":"equals","==":"equals",equal:"equals",equals:"equals","!=":"not equals","!==":"not equals","not equal":"not equals","not equals":"not equals",contains:"contains",contain:"contains"};window.Demandbase.DBConditionBuilder={isValid:function(e){for(var i=["name","attributeValue","operator","value","attributeName"],t=0;t<i.length;t++)if("undefined"==typeof e[i[t]])return!1;return!0},build:function(e,i){if(e&&!e.name)return null;if("undefined"!=typeof e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return e;e.attributeName||(e.attributeName=e.attribute||"NO_ATTR_SET");e.attributeValue=i[e.attribute]||"";if(!this.isValid(e))return null;var t=e.name,n=e.attributeValue,o=e.operator,a=e.value,r=e.attributeName,s=new window.Demandbase.DBCondition(t,n,o,a,r);return s}};var DBSegment=function(e,i){this.name=e;this.rules=[];this.operator="";this.addCondition=function(e){if(!(e&&e.evaluate||"undefined"!=typeof e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)){var e=window.Demandbase.DBConditionBuilder.build(e,window.Demandbase.Segments.CompanyProfile);if(!e)throw new Error("Invalid Condition: "+e.name);Demandbase.Utilities.Logging.log("DBSegmentBuilder converted condition successfully...")}this.rules.push(e);var i=this.operator||DBSegment.prototype.supportedOperators.any;switch(i){case"and":return this.value=this.value&&e.evaluate();case"or":return this.value=this.value||e.evaluate();
default:return e.evaluate()}};this.value=this.addCondition(i)};DBSegment.prototype.name="DBSegment";DBSegment.prototype.supportedOperators={"&&":"and","&":"and",and:"and","||":"or","|":"or",or:"or",any:"or",all:"and"};window.Demandbase.DBSegmentBuilder={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},isValid:function(e){for(var i=["name","operator","rules"],t=0;t<i.length;t++)if("undefined"==typeof e[i[t]])return!1;return this.isArray(e.rules)?!0:!1},build:function(e){if(!this.isValid(e))return null;var i,t=e.name,n=e.rules[0],o=e.operator;if(n){i=new DBSegment(t,n);i.operator=DBSegment.prototype.supportedOperators[o]||DBSegment.prototype.supportedOperators.any;if(e.rules.length>1)for(var a=1;a<e.rules.length;a+=1){var n=e.rules[a];if("undefined"==typeof n.constructor.prototype.name||"DBCondition"!==n.constructor.prototype.name){var r=window.Demandbase.DBConditionBuilder.build(n,void 0);r&&(n=r)}i.addCondition(n)}return i}}};window.Demandbase.Segments=window.Demandbase.Segments||{name:"Demandbase Segments",CompanyProfile:null,AccountWatchVisitor:!1,IsCompany:!1,version:"1.2.2",_debug:!1,_allConditions:[],_allSegments:[],_isInitialized:!1,_setup:function(){this._isInitialized&&this._reset();this.CompanyProfile||!window.Demandbase.IP&&!window.Demandbase.Domain||(this.CompanyProfile=window.Demandbase.IP.CompanyProfile||window.Demandbase.Domain.CompanyProfile||{});"Detailed"===this.CompanyProfile.information_level&&(this.IsCompany=!0);for(var e in this.CompanyProfile)this.CompanyProfile.hasOwnProperty(e)&&0===Demandbase.Shims.indexOf(e,"watch_list_")&&(this.AccountWatchVisitor=!0);for(var i in this._allConditions)this._allConditions.hasOwnProperty(i)&&this._allConditions[i]&&("undefined"==typeof this._allConditions[i].constructor.prototype.name||"DBCondition"!==this._allConditions[i].constructor.prototype.name)&&this.add("condition",this._allConditions[i]);for(var t in this._allSegments)this._allSegments.hasOwnProperty(t)&&this._allSegments[t].name&&("undefined"==typeof this._allSegments[t].constructor.prototype.name||"DBSegment"!==this._allSegments[t].constructor.prototype.name)&&this.add("segment",this._allSegments[t])},_reset:function(){this._allConditions=Demandbase.Config.conditions||__db.conditions||[];this._allSegments=Demandbase.Config.segments||__db.segments||[]},load:function(){Demandbase.Utilities.Callbacks.registerCallback(this.init.bind(this))},init:function(e){window.Demandbase.Segments._debug=Demandbase.Utilities.Logging.debug||!1;window.Demandbase.Segments._allConditions=Demandbase.Config.conditions||__db.conditions||[];window.Demandbase.Segments._allSegments=Demandbase.Config.segments||__db.segments||[];var i=window.Demandbase.Segments;i.CompanyProfile=e;i._setup();i._isInitialized=!0},getActiveSegments:function(){var e=[];for(var i in this._allSegments)this._allSegments.hasOwnProperty(i)&&this._allSegments[i].value&&e.push(this._allSegments[i]);return e},getInactiveSegments:function(){var e=[];for(var i in this._allSegments)this._allSegments.hasOwnProperty(i)&&(this._allSegments[i].value||e.push(this._allSegments[i]));return e},add:function(e,i){if(!e||!i||i=={}){Demandbase.Utilities.Logging.log("Demandbase.Segments.add operation failed due to invalid/empty parameters.");return null}if("condition"===e){for(var t=void 0,n=this._allConditions.length,o=0;o<this._allConditions.length;o++)if(this._allConditions[o].name===i.name){n=o;break}t=window.Demandbase.DBConditionBuilder.build(i,this.CompanyProfile);t?this._allConditions[n]=t:Demandbase.Utilities.Logging.log("Invalid Condition (not created) from: "+Demandbase.Shims.JSON.stringify(i));if("undefined"==typeof i.standalone||i.standalone!==!1){var a=i.name;this.add("segment",{name:a,rules:[a],operator:DBSegment.prototype.supportedOperators.any})}}else if("segment"===e){if("segment"!==this.isValid(i))return null;for(var r=(i.name,void 0),s=void 0,l=this._allSegments.length,d=i.rules||[],u=0;u<this._allSegments.length;u++)if(this._allSegments[u].name===i.name){l=u;break}for(var c=0;c<d.length;c++){var g=d[c];if(!DBSegment.prototype.supportedOperators[g]){DBSegment.prototype.supportedOperators[g]||(s=this.get("condition",g));s?d[c]=s:Demandbase.Utilities.Logging.log("Segment: "+i+" uses a Condition ("+d[c]+") that is not defined.")}}i.rules=d;r=window.Demandbase.DBSegmentBuilder.build(i);if(r){this._allSegments[l]=r;if(this.hasOwnProperty(r.name))this[r.name]=r;else try{Object.defineProperty(this,r.name,{value:r.value,writable:!0})}catch(f){window.Demandbase.Segments[r.name]=r.value}}else Demandbase.Utilities.Logging.log("Invalid Segment (not created) from: "+Demandbase.Shims.JSON.stringify(i))}else Demandbase.Utilities.Logging.log('Invalid "type" parameter ('+e+') passed to "add" function.  Must be "segment" or "condition".')},get:function(e,i){var t=[];1===arguments.length&&(i=e);if("condition"===e){if("undefined"!=typeof i.constructor.prototype.name&&"DBCondition"===i.constructor.prototype.name)return i;t=this._allConditions}else{if("undefined"!=typeof i.constructor.prototype.name&&"DBSegment"===i.constructor.prototype.name)return i;t=this._allSegments}for(var n in t)if(this._allConditions[n].name===i)return this._allConditions[n];DBSegment.prototype.supportedOperators[i]||Demandbase.Utilities.Logging.log('No item with type: "'+e+'" found with name: '+i);return null},isValid:function(e){var i,t="condition",n="segment",o=["name","rules"],a=["name","attribute","operator","value"];if(!e)return!1;if("undefined"!=typeof e.constructor.prototype.name&&"DBSegment"===e.constructor.prototype.name)return n;if("undefined"!=typeof e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return t;try{if(e.hasOwnProperty("name")&&e.hasOwnProperty("rules")){if("object"==typeof e.rules)return n}else for(var r in o)if(!e.hasOwnProperty(o[r])){Demandbase.Utilities.Logging.log('Invalid DBSegment definition.  Missing property:"'+o[r]+'"');return!1}if(i)return i;for(var r in a){if(!e.hasOwnProperty(a[r])){Demandbase.Utilities.Logging.log('Invalid DBCondition definition.  Missing property:"'+a[r]+'"');return!1}i=t}return i}catch(s){Demandbase.ErrorReporter.send(s);return!1}}};var Demandbase;!function(e){function i(i){if(!e._isInitialized||i){e._isInitialized=!0;null==e.Config.isInIFrame&&(e.Config.isInIFrame=e.Utilities.detectIFrame());e.AssetReporter=new e.AssetReporterModule;e.AssetReporter.isEnabled()&&e.AssetReporter.initialize();e.Advertising=new e.AdvertisingModule;e.Ads=e.Advertising;if(e.Advertising.isEnabled()){e.IpApiReportingOnly=new e.IpApiModule;e.Advertising.initialize()}e.IpApi=new e.IpApiModule;e.IP=e.IpApi;e.IpApi.getOnce();window.Demandbase.Segments.load();e.Config.callback&&e.Utilities.Callbacks.registerCallback(e.Config.callback);e.FormsLoader=new e.FormsLoaderModule;if(e.FormsLoader.isEnabled()){e.FormsLoader.initialize();window.Demandbase.utils.loadFormModule=e.FormsLoader.load.bind(e.FormsLoader);window.Demandbase.utils.isFormPage=e.FormsLoader.isFormPage.bind(e.FormsLoader)}e.SiteOptimizationLoader=new e.SiteOptimizationLoaderModule;e.SiteOptimizationLoader.isEnabled()&&e.SiteOptimizationLoader.initialize();e.Connectors.Google_Analytics=new e.Google_AnalyticsModule;e.Connectors.Google_Analytics.isEnabled()&&e.Connectors.Google_Analytics.initialize();e.Connectors.Google_TagManager=new e.Google_TagManagerModule;e.Connectors.Google_TagManager.isEnabled()&&e.Connectors.Google_TagManager.initialize();e.Content=new e.ContentModule;e.Content.isEnabled()&&e.Content.initialize();if("function"==typeof e.Config.getDomain){var t=e.Config.getDomain();t&&e.Domain.load()}e.EmailDomainReporter=new e.EmailDomainReporterModule;e.EmailDomainReporter.isEnabled()&&e.EmailDomainReporter.initialize();var n={Advertising:e.AdvertisingModule,AssetReporter:e.AssetReporterModule,Content:e.ContentModule,ErrorReporter:e.ErrorReporterModule,Google_Analytics:e.Google_AnalyticsModule};new e.ModuleFactory(e.Config,n,e).build();"function"==typeof e.Config.onLoad&&e.Config.onLoad.call(e)}}e.initialize=i}(Demandbase||(Demandbase={}));window.Demandbase.Config.clientId="84395856";window.Demandbase.Config.key="4df432d16f4c85ce9c433a95916ea9d0";window.Demandbase.Config.ads={pixels:{ad:"1503097339",rt:"1503097361",cn:null}};window.Demandbase.Config.analytics={trackerId:"UA-100469290-1",fieldMap:{21:"demandbase_sid",22:"company_name",23:"industry",24:"sub_industry",25:"employee_range",26:"revenue_range",27:"audience",28:"audience_segment",29:"marketing_alias",30:"city",31:"state",32:"country_name",33:"watch_list_account_type",34:"watch_list_account_status",35:"watch_list_campaign_code",36:"watch_list_account_owner",37:"forbes_2000",38:"b2b",39:"b2c",40:"employee_count",41:"annual_sales",42:"web_site"}};window.Demandbase.Config.forms={companyID:null,emailID:null};window.Demandbase.Config.conditions=[];window.Demandbase.Config.segments=[];window.Demandbase.Config.content=[];Demandbase.ErrorReporter=new Demandbase.ErrorReporterModule;Demandbase.ErrorReporter.initialize();Demandbase.ErrorReporter.wrap(Demandbase.initialize.bind(Demandbase))();
//# sourceMappingURL=84395856.min.js.map